<VirtualHost *:80>
    ServerName _default_

    # WSGI: run app in its own daemon with the project's venv & source path
    WSGIDaemonProcess terraform-apache-project \
        python-home=/opt/myapp/venv \
        python-path=/opt/myapp/src

    # Entrypoint: this must point at your wsgi.py file
    WSGIScriptAlias / /opt/myapp/src/app/wsgi.py

    <Directory /opt/myapp/src/app>
        Require all granted
    </Directory>

    ErrorLog ${APACHE_LOG_DIR}/terraform_apache_error.log
    CustomLog ${APACHE_LOG_DIR}/terraform_apache_access.log combined
</VirtualHost>
